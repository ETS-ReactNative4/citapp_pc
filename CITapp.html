<!DOCTYPE html>
<html id="html_id">

<head>
    <title>CITapp</title>
    <meta charset="UTF-8">
    <script src="./js/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script src="./js/jquery.mb.browser.min.js" type="text/javascript"></script>
    <script src="./js/start.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/cit.js"></script>
    <script src="./js/item_base.js"></script>
    <script src="./js/keypress_sim.js"></script>
    <link href="./css/styles.css" rel="stylesheet" type="text/css">
</head>

<body>

    <div id="div_intro_general" class="intro" style="text-align:left;padding: 0;">


        <ul id="nav_menu" style="font-variant: small-caps;font-size: 1.6vw;">
            <li class="menu_list" id="cit_tab_nav" onclick="change_menu('cit_tab')" style="color: #000;background-color: #ccc;font-weight: bold;"><a>CIT-start</a></li>
            <li class="menu_list" id="settings_tab_nav" onclick="change_menu('settings_tab')"><a>Settings</a></li>
            <li class="menu_list" id="demo_tab_nav" onclick="change_menu('demo_tab')"><a>Demo</a></li>
            <li class="menu_version" style="float: right;"><a>v1.0.1</a></li>
            <!-- <li class="menu_list" style="float: right;" id="about_tab_nav" onclick="change_menu('about_tab')"><a>About</a></li> -->
        </ul>
        <div style="padding: 3%;overflow: auto;height:78%;">
            <div id="cit_tab">
                <div style="display: flex;">
                    <div style="flex: 57%;line-height: 1.7;">
                        Experiment title:
                        <input type="text" onkeypress='valid_chars(event)' id="exp_title_id" class="form_start" maxlength="20" size="20" value="CIT_app_test">
                        <br><br> Subject ID:
                        <input type="text" onkeypress='valid_chars(event)' id="subj_num_id" class="form_start" maxlength="15" size="15">
                        <br><br> CIT version:
                        <input type="radio" id="standard_id" name="cit_version" value="0"><label for="standard_id">standard</label>
                        <input type="radio" id="enhanced_id" name="cit_version" checked="checked" value="1"><label for="enhanced_id">enhanced</label>
                        <!--<input type="radio" id="notarget_id" name="cit_version" value="2"><label for="notarget_id">no-target</label>-->

                        <br><br> Number of blocks:
                        <input type="radio" id="1block" name="num_of_blcks" checked="checked" value="1"><label for="1block">1</label>
                        <input type="radio" id="2block" name="num_of_blcks" value="2"><label for="2block">2</label>
                        <input type="radio" id="3block" name="num_of_blcks" value="3">
                        <label for="3block">3</label>
                    </div>

                    <div style="flex: 43%;">
                        Probe:
                        <input type="text" id="probe_id" class="form_start" maxlength="40" size="15">
                        <br>
                        <br>Target:
                        <input type="text" id="targ_id" class="form_start" maxlength="40" size="15">
                        <br>
                        <br>Irrelevant (1):
                        <input type="text" id="irr1_id" class="form_start" maxlength="40" size="15">
                        <br>
                        <br>Irrelevant (2):
                        <input type="text" id="irr2_id" class="form_start" maxlength="40" size="15">
                        <br>
                        <br>Irrelevant (3):
                        <input type="text" id="irr3_id" class="form_start" maxlength="40" size="15">
                        <br>
                        <br>Irrelevant (4):
                        <input type="text" id="irr4_id" class="form_start" maxlength="40" size="15">
                        <br>
                        <br>

                    </div>

                </div>
                <br>
                <i><b>Hints:</b> &#9679; close major running programs &#9679; disconnect internet &#9679; set fullscreen <span style="font-size:1.3vw;">(<b>F11</b> or <b>Fn + F11</b> or <b>Ctrl + Cmd + F</b>)</span></i>
                <br>
                <div id="not_chrome_warn" style="display: none;color:red;"></div>
                <br>
                <hr>
                <button class="intro_button" style="position: absolute;left: 50%;transform: translateX(-50%)" onclick="change_div('#div_intro_general', '#instructions', validate_form('.form_start'), no_select_bg, starter)">START TEST</button>
                <br><br>
            </div>

            <div id="settings_tab" style="display: none;">


                <div style="display: flex;">
                    <div style="flex: 50%;">
                        <b><u>Reminder captions</u> (practice phase)</b>
                        <br><br>
                        <b>Standard version</b>
                        <br><br> Caption at the top:
                        <input type="text" id="s_top_id" class="form_start" maxlength="40" size="15" value="recognize?">
                        <br>
                        <br>Caption at the left:
                        <input type="text" id="s_left_id" class="form_start" maxlength="40" size="15" value='no = "E"'>
                        <br>
                        <br>Caption at the right:
                        <input type="text" id="s_right_id" class="form_start" maxlength="40" size="15" value='yes = "I"'>
                        <br>
                        <br>
                        <br>
                        <b>Enhanced version</b>
                        <br><br> Caption at the top:
                        <input type="text" id="e_top_id" class="form_start" maxlength="40" size="15" value="familiar to you?">
                        <br>
                        <br>Caption at the left:
                        <input type="text" id="e_left_id" class="form_start" maxlength="40" size="15" value='unfamiliar = "E"'>
                        <br>
                        <br>Caption at the right:
                        <input type="text" id="e_right_id" class="form_start" maxlength="40" size="15" value='familiar = "I"'>

                    </div>
                    <div style="flex: 50%;">
                        <b><u>Inducers in the enhanced version</u></b>
                        <br>
                        <br>
                        <span style="line-height: 2.2;">
                        Familiar-referring (1):
                        <input type="text" id="i_1_id" class="form_start" maxlength="40" size="15" value='FAMILIAR'>

                        <br>Familiar-referring (2):
                        <input type="text" id="i_2_id" class="form_start" maxlength="40" size="15" value='RECOGNIZED'>

                        <br>Familiar-referring (3):
                        <input type="text" id="i_3_id" class="form_start" maxlength="40" size="15" value='MINE'>

                        <br>Unfamiliar-referring (1):
                        <input type="text" id="i_4_id" class="form_start" maxlength="40" size="15" value='UNFAMILIAR'>

                        <br>Unfamiliar-referring (2):
                        <input type="text" id="i_5_id" class="form_start" maxlength="40" size="15" value='UNKNOWN'>

                        <br>Unfamiliar-referring (3):
                        <input type="text" id="i_6_id" class="form_start" maxlength="40" size="15" value='OTHER'>

                        <br>Unfamiliar-referring (4):
                        <input type="text" id="i_7_id" class="form_start" maxlength="40" size="15" value='THEIRS'>

                        <br>Unfamiliar-referring (5):
                        <input type="text" id="i_8_id" class="form_start" maxlength="40" size="15" value='THEM'>

                        <br>Unfamiliar-referring (6):
                        <input type="text" id="i_9_id" class="form_start" maxlength="40" size="15" value='FOREIGN'>
                    </span>

                    </div>
                </div>

            </div>


            <div id="demo_tab" style="display: none;">
                <p>
                    For demonstration's sake, take a situation in which you want to reveal whether a person is aware of a certain date. For example, someone is suspected to be concealing the knowledge of an upcoming terrorist attack on <i>May 9</i>. In this case, five different,
                    additional dates should be chosen randomly. For example, <i>June 14</i>, <i>December 5</i>, <i>August 25</i>, <i>February 12</i>, and <i>March 29</i>. From among these, one should be chosen randomly as target, for example, August 25</i>. These should be filled in accordingly
                    on the starting page. Probe: <i>May 9</i>, Target: <i>August 25</i>, and the remaining four dates as Irrelevants. The Experiment title may be "<i>detect_relevant_date</i>". The Subject ID could be "<i>suspect_01</i>".
                </p>
                <p>
                    All these data can be filled in automatically for a demonstration using the following button:
                    <button class="intro_button" style="position: relative;padding: 0.5vw 0.5vw;" onclick="fill_up_demo()">Autofill</button>
                </p>
                <p>
                    For the detailed mechanism of the task, as well as for how to use it (and test it programmatically), see the <a class="links" href="https://github.com/gasparl/citapp_pc/blob/master/README.md" target="_blank">README</a> document.
                </p>

            </div>

        </div>
    </div>



    <div id="instructions" class="main_instr">
        <span style="position: relative;left: 42%;transform: translateX(-50%)"><b>Task instructions</b></span>
        <br>
        <br>
        <p id="task_instruction"></p>
        If you make a wrong response or you are too slow to respond, a red "WRONG" or "TOO SLOW" appears below the word. You cannot correct this: the next item appears automatically.
        <br>
        <br> Click on <b>OK</b> if you understood. You can always check these instructions again during the pauses in the task.
        <br>
        <br>
        <br>
        <button class="main_button" style="position: relative;left: 50%;transform: translateX(-50%)" onclick="change_div(this, div_after_instr);">OK</button>
    </div>

    <div id="div_target_check" style="padding-bottom: 30%; width: 80%; height: 15%;" class="maintext">
        <b>To make sure you correctly memorized the target detail please write it below.</b>
        <br>
        <br>
        <input type="text" id="tcheck" maxlength="25" size="20" style="text-transform: uppercase;">
        <br>
        <br>
        <button class="main_button" onclick="change_div(this, '#div_cit_blockstart', target_check(), nextblock);">Next</button>
    </div>

    <div id="div_cit_blockstart" style="padding:2%; padding-bottom: 40%; width: 85%; height: 0;" class="maintext">
        <p id="infotext"></p>
        <br>
        <button class="main_button" onclick="runblock()">Start</button>
        <br>
        <br>
        <button class="main_button_instr" onclick="change_div(this, '#instructions');">show full instructions again</button>
    </div>


    <div id="div_cit_main">
        <p id="tooslow"><b>TOO SLOW</b></p>
        <p id="false"><b>WRONG</b></p>
        <p id="label_top"></p>
        <p id="label_left"></p>
        <p id="label_right"></p>
        <p id="stimulus"></p>
        <p id="start_text">Press the space bar to begin.</p>
    </div>



    <div id="div_outro_end" style="width: 80%;top:35%;height:auto;font-size:2.0vw;" class="intro">

        <br>This is the end of the test. You can let the test administrator know that you finished. <br>Please do not close anything!
        <br>
        <br>
        <button style="background-color:red;position:absolute;left:100%;right:100%;" onclick="end_save();"> X </button>
    </div>

    <div style="position: absolute;display:none;padding:3% 11% 3% 8%;text-align:justify;" id="div_end_screen">
        <div style="border: solid 1px #000;padding:1.5% 5% 3% 5%;background:#fff; font-size:1.3vw;line-height: 1.3;">
            <h1>Results</h1>
            <div style="display: flex;">
                <div style="margin:1%;">
                    <p>The full data from the completed test can be downloaded as a <i>txt</i> file using the <b>Download file</b> button. The <b>Copy to clipboard</b> button may also be used to copy the entire data text to the system clipboard, after which
                        it is possible to paste it into any text editor and save it. (The data is actually automatically copied to the clipboard when changing to this screen; the button serves only in case the clipboard content is lost.) Finally, the
                        <b>Start new test</b> button may be used to return to the starting page of this application with all initial settings preserved. Note: the test data should be saved first, otherwise it will be lost.
                    </p>

                    <p>
                        Individual results are influenced by many factors, and so far there is no established way of making a "guilty" or "innocent" classification based on a single test. Still, an individual <i>d</i><sub>CIT</sub> effect size may be
                        calculated, which gives basis for an approximate preliminary evalution.
                        <span id="end_summary_id"></span>
                    </p>

                    <p>For further details and information, see the <i>About</i> menu on the starting page.
                    </p>
                </div>

                <div style="margin:1% 1% 1% 4%;">
                    <br><br>
                    <button style="font-size:1.3vw;padding:5%;" onclick="dl_as_file(f_name, cit_data);">Download&nbsp;file</button><br><br>
                    <button style="font-size:1.3vw;padding:5%;" onclick="copy_to_clip();">Copy&nbsp;to&nbsp;clipboard</button><br><br>
                    <button style="font-size:1.3vw;padding:5%;" onclick="change_div('#div_end_screen', div_intro_general);"><b>Start&nbsp;new&nbsp;test</b></button><br><br>
                </div>
            </div>

        </div>
    </div>

</body>

</html>
